# React JSON Schema Form with Antd Demo

è¿™æ˜¯ä¸€ä¸ªå®Œæ•´çš„ `react-jsonschema-form` æ¼”ç¤ºé¡¹ç›®ï¼Œå±•ç¤ºäº†ä¸ Ant Design çš„é›†æˆåŠŸèƒ½ã€‚

## ğŸŒ åœ¨çº¿æ¼”ç¤º

è®¿é—® [GitHub Pages æ¼”ç¤ºé¡µé¢](https://sunjuzhong.github.io/rsjf-demo/) æŸ¥çœ‹åœ¨çº¿æ¼”ç¤ºã€‚

## åŠŸèƒ½ç‰¹æ€§

### ğŸ¯ åŸºç¡€åŠŸèƒ½
- âœ… åŸºç¡€è¡¨å•å­—æ®µï¼ˆå­—ç¬¦ä¸²ã€æ•°å­—ã€å¸ƒå°”å€¼ã€æ—¥æœŸç­‰ï¼‰
- âœ… é«˜çº§è¡¨å•ç»„ä»¶ï¼ˆèŒƒå›´é€‰æ‹©å™¨ã€å¤šé€‰æ¡†ã€æ—¥æœŸæ—¶é—´é€‰æ‹©å™¨ï¼‰
- âœ… åŠ¨æ€æ•°ç»„è¡¨å•ï¼ˆå¯æ·»åŠ /åˆ é™¤é¡¹ç›®ï¼‰
- âœ… æ¡ä»¶è¡¨å•ï¼ˆåŸºäºç”¨æˆ·é€‰æ‹©æ˜¾ç¤ºä¸åŒå­—æ®µï¼‰
- âœ… åµŒå¥—å¯¹è±¡è¡¨å•ï¼ˆå¤šå±‚çº§æ•°æ®ç»“æ„ï¼‰

### ğŸ”§ é«˜çº§åŠŸèƒ½
- âœ… è‡ªå®šä¹‰ç»„ä»¶ï¼ˆè¯„åˆ†ã€é¢œè‰²é€‰æ‹©å™¨ã€æ ‡ç­¾è¾“å…¥å™¨ï¼‰
- âœ… è¡¨å•éªŒè¯ï¼ˆå¿…å¡«ã€æ ¼å¼éªŒè¯ã€è‡ªå®šä¹‰éªŒè¯ï¼‰
- âœ… æ–‡ä»¶ä¸Šä¼ ï¼ˆå•æ–‡ä»¶ã€å¤šæ–‡ä»¶ã€å›¾ç‰‡ä¸Šä¼ ã€æ‹–æ‹½ä¸Šä¼ ï¼‰
- âœ… ä¸­æ–‡æœ¬åœ°åŒ–æ”¯æŒ
- âœ… Ant Design ä¸»é¢˜é›†æˆ

## æŠ€æœ¯æ ˆ

- **React 18** - å‰ç«¯æ¡†æ¶
- **Ant Design 5** - UI ç»„ä»¶åº“
- **@rjsf/antd** - React JSON Schema Form çš„ Antd ä¸»é¢˜
- **@rjsf/validator-ajv8** - JSON Schema éªŒè¯å™¨
- **Vite** - æ„å»ºå·¥å…·

## å¿«é€Ÿå¼€å§‹

### å®‰è£…ä¾èµ–

```bash
npm install
```

### å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
npm start
```

è®¿é—® [http://localhost:3000](http://localhost:3000) æŸ¥çœ‹æ¼”ç¤ºã€‚

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
npm run build
```

## ğŸš€ éƒ¨ç½²åˆ°GitHub Pages

æœ¬é¡¹ç›®å·²é…ç½®è‡ªåŠ¨éƒ¨ç½²åˆ°GitHub Pagesã€‚å½“æ‚¨æ¨é€ä»£ç åˆ°`main`åˆ†æ”¯æ—¶ï¼ŒGitHub Actionsä¼šè‡ªåŠ¨æ„å»ºå¹¶éƒ¨ç½²é¡¹ç›®ã€‚

### æ‰‹åŠ¨éƒ¨ç½²æ­¥éª¤

1. ç¡®ä¿æ‚¨çš„GitHubä»“åº“å·²å¯ç”¨PagesåŠŸèƒ½ï¼š
   - è¿›å…¥ä»“åº“è®¾ç½® â†’ Pages
   - Sourceé€‰æ‹©"GitHub Actions"

2. æ¨é€ä»£ç åˆ°mainåˆ†æ”¯ï¼š
```bash
git add .
git commit -m "Deploy to GitHub Pages"
git push origin main
```

3. ç­‰å¾…GitHub Actionså®Œæˆæ„å»ºå’Œéƒ¨ç½²

4. è®¿é—® `https://sunjuzhong.github.io/rsjf-demo/` æŸ¥çœ‹éƒ¨ç½²ç»“æœ

### æœ¬åœ°é¢„è§ˆæ„å»ºç»“æœ

```bash
npm run build
npm run preview
```

## æ¼”ç¤ºå†…å®¹

### 1. åŸºç¡€è¡¨å•
- æ–‡æœ¬è¾“å…¥æ¡†
- æ•°å­—è¾“å…¥æ¡†
- æ—¥æœŸé€‰æ‹©å™¨
- å•é€‰æŒ‰é’®
- å¤é€‰æ¡†
- ä¸‹æ‹‰é€‰æ‹©

### 2. é«˜çº§è¡¨å•
- æ»‘åŠ¨æ¡
- è¯„åˆ†ç»„ä»¶
- å¤šé€‰æ¡†ç»„
- URL éªŒè¯
- åµŒå¥—å¯¹è±¡

### 3. æ•°ç»„è¡¨å•
- åŠ¨æ€æ·»åŠ /åˆ é™¤é¡¹ç›®
- æ•°ç»„å†…çš„å¤æ‚å¯¹è±¡
- æ•°ç»„éªŒè¯è§„åˆ™

### 4. æ¡ä»¶è¡¨å•
- åŸºäº if/then/else çš„æ¡ä»¶æ¸²æŸ“
- åŠ¨æ€å­—æ®µæ˜¾ç¤º/éšè—
- æ¡ä»¶éªŒè¯

### 5. åµŒå¥—å¯¹è±¡
- å¤šå±‚çº§æ•°æ®ç»“æ„
- å¯¹è±¡å†…çš„æ•°ç»„
- å¤æ‚æ•°æ®å…³ç³»

### 6. è‡ªå®šä¹‰ç»„ä»¶
- è‡ªå®šä¹‰è¯„åˆ†ç»„ä»¶
- é¢œè‰²é€‰æ‹©å™¨
- æ ‡ç­¾è¾“å…¥å™¨
- ç»„ä»¶æ³¨å†Œå’Œä½¿ç”¨

### 7. è¡¨å•éªŒè¯
- å¿…å¡«å­—æ®µéªŒè¯
- æ ¼å¼éªŒè¯ï¼ˆé‚®ç®±ã€æ‰‹æœºå·ã€èº«ä»½è¯ç­‰ï¼‰
- é•¿åº¦å’Œæ•°å€¼èŒƒå›´éªŒè¯
- æ­£åˆ™è¡¨è¾¾å¼éªŒè¯
- è‡ªå®šä¹‰éªŒè¯é€»è¾‘

### 8. æ–‡ä»¶ä¸Šä¼ 
- å•æ–‡ä»¶ä¸Šä¼ 
- å¤šæ–‡ä»¶ä¸Šä¼ 
- å›¾ç‰‡ä¸Šä¼ å’Œé¢„è§ˆ
- æ‹–æ‹½ä¸Šä¼ 
- æ–‡ä»¶ç±»å‹å’Œå¤§å°é™åˆ¶

### 9. å­—æ®µç›‘å¬
- ç›‘å¬å­—æ®µå€¼å˜åŒ–
- å®æ—¶å“åº”å’Œé€šçŸ¥
- å­—æ®µé—´è”åŠ¨æ•ˆæœ
- è‡ªå®šä¹‰å›è°ƒå¤„ç†

### 10. è‡ªå®šä¹‰æ¨¡æ¿
- è‡ªå®šä¹‰Fieldç»„ä»¶
- è‡ªå®šä¹‰Templateæ¨¡æ¿
- å¯†ç å¼ºåº¦æŒ‡ç¤ºå™¨
- ä¼˜å…ˆçº§æ ‡è®°å’Œå¸ƒå±€æ§åˆ¶

## é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ components/                 # æ¼”ç¤ºç»„ä»¶
â”‚   â”œâ”€â”€ BasicFormDemo.jsx      # åŸºç¡€è¡¨å•æ¼”ç¤º
â”‚   â”œâ”€â”€ AdvancedFormDemo.jsx   # é«˜çº§è¡¨å•æ¼”ç¤º
â”‚   â”œâ”€â”€ ArrayFormDemo.jsx      # æ•°ç»„è¡¨å•æ¼”ç¤º
â”‚   â”œâ”€â”€ ConditionalFormDemo.jsx # æ¡ä»¶è¡¨å•æ¼”ç¤º
â”‚   â”œâ”€â”€ NestedObjectDemo.jsx   # åµŒå¥—å¯¹è±¡æ¼”ç¤º
â”‚   â”œâ”€â”€ CustomWidgetsDemo.jsx  # è‡ªå®šä¹‰ç»„ä»¶æ¼”ç¤º
â”‚   â”œâ”€â”€ ValidationDemo.jsx     # è¡¨å•éªŒè¯æ¼”ç¤º
â”‚   â”œâ”€â”€ FileUploadDemo.jsx     # æ–‡ä»¶ä¸Šä¼ æ¼”ç¤º
â”‚   â”œâ”€â”€ FieldListenerDemo.jsx  # å­—æ®µç›‘å¬æ¼”ç¤º
â”‚   â””â”€â”€ CustomTemplatesDemo.jsx # è‡ªå®šä¹‰æ¨¡æ¿æ¼”ç¤º
â”œâ”€â”€ App.jsx                    # ä¸»åº”ç”¨ç»„ä»¶
â”œâ”€â”€ main.jsx                   # åº”ç”¨å…¥å£
â””â”€â”€ index.css                  # å…¨å±€æ ·å¼
```

## JSON Schema ç¤ºä¾‹

### åŸºç¡€ Schema

```json
{
  "title": "ç”¨æˆ·ä¿¡æ¯",
  "type": "object",
  "required": ["name", "email"],
  "properties": {
    "name": {
      "type": "string",
      "title": "å§“å",
      "minLength": 2
    },
    "email": {
      "type": "string",
      "format": "email",
      "title": "é‚®ç®±"
    },
    "age": {
      "type": "integer",
      "title": "å¹´é¾„",
      "minimum": 18,
      "maximum": 100
    }
  }
}
```

### UI Schema å®šåˆ¶

```json
{
  "name": {
    "ui:placeholder": "è¯·è¾“å…¥æ‚¨çš„å§“å"
  },
  "age": {
    "ui:widget": "updown"
  },
  "bio": {
    "ui:widget": "textarea",
    "ui:options": {
      "rows": 4
    }
  }
}
```

## è‡ªå®šä¹‰ç»„ä»¶å¼€å‘

### åˆ›å»ºè‡ªå®šä¹‰ç»„ä»¶

```jsx
const CustomRatingWidget = (props) => {
  const { value, onChange, options } = props;
  
  return (
    <Rate
      value={value}
      onChange={onChange}
      count={options.count || 5}
    />
  );
};
```

### æ³¨å†Œè‡ªå®šä¹‰ç»„ä»¶

```jsx
const widgets = {
  RatingWidget: CustomRatingWidget,
};

<Form
  schema={schema}
  widgets={widgets}
  // ...å…¶ä»–å±æ€§
/>
```

## è¡¨å•éªŒè¯

### è‡ªå®šä¹‰éªŒè¯å‡½æ•°

```jsx
const customValidate = (formData, errors) => {
  if (formData.password !== formData.confirmPassword) {
    errors.confirmPassword.addError("å¯†ç ä¸åŒ¹é…");
  }
  return errors;
};

<Form
  schema={schema}
  customValidate={customValidate}
  // ...å…¶ä»–å±æ€§
/>
```

## è‡ªå®šä¹‰Fieldå’ŒTemplate

### åˆ›å»ºè‡ªå®šä¹‰Fieldç»„ä»¶

```jsx
const PasswordField = (props) => {
  const { formData, onChange, required, disabled, readonly } = props;
  
  // å®ç°å¯†ç å¼ºåº¦è®¡ç®—é€»è¾‘
  const calculateStrength = (password) => {
    // å¼ºåº¦è®¡ç®—é€»è¾‘...
  };
  
  return (
    <div>
      <input
        type="password"
        value={formData || ''}
        onChange={(e) => onChange(e.target.value)}
        // å…¶ä»–å±æ€§...
      />
      {/* å¯†ç å¼ºåº¦æŒ‡ç¤ºå™¨ */}
    </div>
  );
};
```

### æ³¨å†Œè‡ªå®šä¹‰ç»„ä»¶

```jsx
const fields = {
  password: PasswordField,
  question: QuestionField
};

const templates = {
  FieldTemplate: CustomFieldTemplate,
  ObjectFieldTemplate: CustomObjectFieldTemplate
};

<Form
  schema={schema}
  uiSchema={uiSchema}
  fields={fields}
  templates={templates}
  // ...å…¶ä»–å±æ€§
/>
```

### åœ¨uiSchemaä¸­ä½¿ç”¨

```jsx
const uiSchema = {
  password: {
    "ui:field": "password",
    "ui:options": {
      priority: "high"
    }
  }
};
```

## è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Request æ¥æ”¹è¿›è¿™ä¸ªæ¼”ç¤ºé¡¹ç›®ã€‚

## è®¸å¯è¯

MIT

## ç›¸å…³é“¾æ¥

- [react-jsonschema-form å®˜æ–¹æ–‡æ¡£](https://rjsf-team.github.io/react-jsonschema-form/)
- [Ant Design å®˜æ–¹æ–‡æ¡£](https://ant.design/)
- [JSON Schema è§„èŒƒ](https://json-schema.org/)
